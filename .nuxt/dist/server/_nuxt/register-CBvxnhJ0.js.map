{"version":3,"file":"register-CBvxnhJ0.js","sources":["../../../../pages/register.vue"],"sourcesContent":["<template>\n  <div class=\"page\">\n    <div class=\"header\">\n      <h1 class=\"title\">凡人修仙传·掌上仙途</h1>\n      <p class=\"subtitle\">新建账号，开启修仙旅程</p>\n    </div>\n    <van-form @submit=\"onSubmit\">\n      <van-cell-group inset>\n        <van-field\n          v-model=\"username\"\n          name=\"username\"\n          label=\"账号\"\n          placeholder=\"请输入账号\"\n          autocomplete=\"username\"\n          clearable\n        />\n        <van-field\n          v-model=\"password\"\n          name=\"password\"\n          label=\"密码\"\n          type=\"password\"\n          placeholder=\"请输入密码\"\n          autocomplete=\"new-password\"\n          clearable\n        />\n      </van-cell-group>\n      <div class=\"actions\">\n        <van-button round block type=\"primary\" native-type=\"submit\" :loading=\"loading\">\n          注册\n        </van-button>\n        <van-button round block type=\"default\" class=\"login-button\" :to=\"{ path: '/login' }\">\n          返回登录\n        </van-button>\n      </div>\n    </van-form>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\"\nimport { useRouter } from \"vue-router\"\nimport { showToast } from \"vant\"\nimport { usePlayerStore } from \"~/stores/player\"\n\nconst username = ref(\"\")\nconst password = ref(\"\")\nconst loading = ref(false)\n\nconst router = useRouter()\nconst playerStore = usePlayerStore()\n\nconst onSubmit = async () => {\n  if (!username.value || !password.value) {\n    showToast(\"请输入账号和密码\")\n    return\n  }\n\n  loading.value = true\n  try {\n    await playerStore.register({\n      username: username.value,\n      password: password.value\n    })\n    showToast(\"注册成功，请登录\")\n    router.push(\"/login\")\n  } catch (error: any) {\n    const message = error?.message || \"注册失败，请稍后重试\"\n    showToast(message)\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n\n<style scoped>\n.page {\n  min-height: 100vh;\n  padding: 24px 16px;\n  background: #0b1020;\n  color: #f5f5f5;\n  box-sizing: border-box;\n}\n\n.header {\n  text-align: center;\n  margin-bottom: 24px;\n}\n\n.title {\n  font-size: 20px;\n  margin: 0 0 4px;\n}\n\n.subtitle {\n  margin: 0;\n  font-size: 13px;\n  color: #c9c9c9;\n}\n\n.actions {\n  margin: 24px 0 0;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.login-button {\n  margin-top: 4px;\n}\n</style>\n\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_withCtx","_createVNode","_createTextVNode"],"mappings":"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"}