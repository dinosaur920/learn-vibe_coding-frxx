{"version":3,"file":"login-Bi2ix7VD.js","sources":["../../../../pages/login.vue"],"sourcesContent":["<template>\n  <div class=\"page\">\n    <div class=\"header\">\n      <h1 class=\"title\">凡人修仙传·掌上仙途</h1>\n      <p class=\"subtitle\">登录后踏上修仙之路</p>\n    </div>\n    <van-form @submit=\"onSubmit\">\n      <van-cell-group inset>\n        <van-field v-model=\"username\" name=\"username\" label=\"账号\" placeholder=\"请输入账号\" autocomplete=\"username\"\n          clearable />\n        <van-field v-model=\"password\" name=\"password\" label=\"密码\" type=\"password\" placeholder=\"请输入密码\"\n          autocomplete=\"current-password\" clearable />\n      </van-cell-group>\n      <div class=\"actions\">\n        <van-button round block type=\"primary\" native-type=\"submit\" :loading=\"loading\">\n          登录\n        </van-button>\n        <van-button round block type=\"default\" class=\"register-button\" :to=\"{ path: '/register' }\">\n          去注册\n        </van-button>\n      </div>\n    </van-form>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\"\nimport { useRouter } from \"vue-router\"\nimport { showToast } from \"vant\"\nimport { usePlayerStore } from \"~/stores/player\"\n\nconst username = ref(\"\")\nconst password = ref(\"\")\nconst loading = ref(false)\n\nconst router = useRouter()\nconst playerStore = usePlayerStore()\n\nconst onSubmit = async () => {\n  if (!username.value || !password.value) {\n    showToast(\"请输入账号和密码\")\n    return\n  }\n\n  loading.value = true\n  try {\n    await playerStore.login({\n      username: username.value,\n      password: password.value\n    })\n    showToast(\"登录成功\")\n    router.push(\"/\")\n  } catch (error: any) {\n    const message = error?.message || \"登录失败，请稍后重试\"\n    showToast(message)\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n\n<style scoped>\n.page {\n  min-height: 100vh;\n  padding: 24px 16px;\n  background: #0b1020;\n  color: #f5f5f5;\n  box-sizing: border-box;\n}\n\n.header {\n  text-align: center;\n  margin-bottom: 24px;\n}\n\n.title {\n  font-size: 20px;\n  margin: 0 0 4px;\n}\n\n.subtitle {\n  margin: 0;\n  font-size: 13px;\n  color: #c9c9c9;\n}\n\n.actions {\n  margin: 24px 0 0;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.register-button {\n  margin-top: 4px;\n}\n</style>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_withCtx","_createVNode","_createTextVNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AA+BA,UAAA,WAAA,IAAA,EAAA;AACA,UAAA,WAAA,IAAA,EAAA;AACA,UAAA,UAAA,IAAA,KAAA;AAEA,UAAA,SAAA,UAAA;AACA,UAAA,cAAA,eAAA;AAEA,UAAA,WAAA,YAAA;AACE,UAAA,CAAA,SAAA,SAAA,CAAA,SAAA,OAAA;AAEE;AAAA,MAAA;AAGF,cAAA,QAAA;AACA,UAAA;AACE,cAAA,YAAA,MAAA;AAAA,UAAwB,UAAA,SAAA;AAAA,UACH,UAAA,SAAA;AAAA,QACA,CAAA;AAErB,kBAAA,MAAA;AACA,eAAA,KAAA,GAAA;AAAA,MAAe,SAAA,OAAA;AAEf,eAAA,WAAA;AAAA,MACiB,UAAA;AAEjB,gBAAA,QAAA;AAAA,MAAgB;AAAA,IAClB;;;;;;AAxDK,YAAA,OAAAA,eAAAC,WAAA,EAAA,OAAA,UAAA,MAAA,CAAA,CAAA,+JAAA;AAKQ,YAAAC,mBAAA,qBAAA,EAAA,SAAA,GAAA;AAAA,QAAgB,SAAAC,QAAA,CAAA,GAAA,QAAA,UAAA,aAAA;;AACT,mBAAAD,mBAAA,2BAAA,EAAA,OAAA,GAAA,GAAA;AAAA,cAAK,SAAAC,QAAA,CAAA,IAAA,QAAA,UAAA,cAAA;;;;oBACC,uBAAA,CAAA,WAAA,SAAA,QAAA;AAAA,oBAAQ,MAAA;AAAA,oBAAO,OAAA;AAAA,oBAAiB,aAAA;AAAA,oBAAiB,cAAA;AAAA,oBAAqB,WAAA;AAAA,kBACxF,GAAA,MAAA,UAAA,SAAA,CAAA;;;oBACkB,uBAAA,CAAA,WAAA,SAAA,QAAA;AAAA,oBAAQ,MAAA;AAAA,oBAAO,OAAA;AAAA,oBAAiB,MAAA;AAAA,oBAAU,aAAA;AAAA,oBAAuB,cAAA;AAAA,oBACtE,WAAA;AAAA,kBAAmB,GAAA,MAAA,UAAA,SAAA,CAAA;AAAA;;;sBAFpB,YAAA,SAAA;AAAA,sBADM,uBAAA,CAAA,WAAA,SAAA,QAAA;AAAA,sBAAQ,MAAA;AAAA,sBAAO,OAAA;AAAA,sBAAiB,aAAA;AAAA,sBAAiB,cAAA;AAAA,sBAAqB,WAAA;AAAA,oBACxF,GAAA,MAAA,GAAA,CAAA,cAAA,qBAAA,CAAA;AAAA;sBAE4C,YAAA,SAAA;AAAA,sBAD1B,uBAAA,CAAA,WAAA,SAAA,QAAA;AAAA,sBAAQ,MAAA;AAAA,sBAAO,OAAA;AAAA,sBAAiB,MAAA;AAAA,sBAAU,aAAA;AAAA,sBAAuB,cAAA;AAAA,sBACtE,WAAA;AAAA,oBAAmB,GAAA,MAAA,GAAA,CAAA,cAAA,qBAAA,CAAA;AAAA;;;;;;;;cAGtB,OAAA;AAAA,cAAM,MAAA;AAAA,cAAW,eAAA;AAAA,cAAsB,SAAA,QAAA;AAAA,YAAmB,GAAA;AAAA;;;;;;kBAEtE;AAAA;;;;;;cACY,OAAA;AAAA,cAAM,MAAA;AAAA,cAAW,OAAA;AAAA,cAAgB,IAAA,EAAA,MAAA,YAAA;AAAA,YAAuB,GAAA;AAAA;;;;;;kBAEpE;AAAA;;;;;;;;gBAZmB,SAAAA,QAAA,MAAA;AAAA,kBAELC,YAAA,sBAAA;AAAA,oBAAA,YAAA,SAAA;AAAA,oBADM,uBAAA,CAAA,WAAA,SAAA,QAAA;AAAA,oBAAQ,MAAA;AAAA,oBAAO,OAAA;AAAA,oBAAiB,aAAA;AAAA,oBAAiB,cAAA;AAAA,oBAAqB,WAAA;AAAA,kBACxF,GAAA,MAAA,GAAA,CAAA,cAAA,qBAAA,CAAA;AAAA;oBAE4C,YAAA,SAAA;AAAA,oBAD1B,uBAAA,CAAA,WAAA,SAAA,QAAA;AAAA,oBAAQ,MAAA;AAAA,oBAAO,OAAA;AAAA,oBAAiB,MAAA;AAAA,oBAAU,aAAA;AAAA,oBAAuB,cAAA;AAAA,oBACtE,WAAA;AAAA,kBAAmB,GAAA,MAAA,GAAA,CAAA,cAAA,qBAAA,CAAA;AAAA;;;;gBAEhBA,YAAA,uBAAA;AAAA,kBAGL,OAAA;AAAA,kBAFD,OAAA;AAAA,kBAAM,MAAA;AAAA,kBAAW,eAAA;AAAA,kBAAsB,SAAA,QAAA;AAAA,gBAAmB,GAAA;AAAA;oBAEtEC,gBAAA,MAAA;AAAA,kBAAA,CAAA;AAAA;;;kBAGa,OAAA;AAAA,kBAFD,OAAA;AAAA,kBAAM,MAAA;AAAA,kBAAW,OAAA;AAAA,kBAAgB,IAAA,EAAA,MAAA,YAAA;AAAA,gBAAuB,GAAA;AAAA;oBAEpEA,gBAAA,OAAA;AAAA,kBAAA,CAAA;AAAA;;;;;;;;;;;;;;;;;;;"}