import{k as U,$,a as Be,a0 as E,U as J,a1 as Pe,a2 as ue,H as Ie,R as I,T as ze,S as $e,r as S,s as Z,a3 as Ee,W as de,a4 as Te,N as xe,a5 as ke,V as Q,a6 as Ae,a7 as je,d as q,B as _,a8 as fe,e as Me,a9 as he,aa as ye,ab as ve,ac as ge,X as H,o as me,ad as Re,K as Le,Y as Ue,ae as Ne}from"./C57q5Bld.js";import{n as P,m as B,c as Y,e as T,A as Fe,a as Ve,w as K,b as He,D as qe,I as ee,p as te,r as Ye,t as R,u as W,T as oe,E as Xe,G as Ge,q as be,H as We,i as ne,J as Je,K as Ze,P as Qe,L as Ke,M as et,N as tt,f as nt}from"./DSmQk4JK.js";function at(e){return typeof e=="string"?`'${e}'`:new ot().serialize(e)}const ot=(function(){class e{#e=new Map;compare(t,a){const o=typeof t,i=typeof a;return o==="string"&&i==="string"?t.localeCompare(a):o==="number"&&i==="number"?t-a:String.prototype.localeCompare.call(this.serialize(t,!0),this.serialize(a,!0))}serialize(t,a){if(t===null)return"null";switch(typeof t){case"string":return a?t:`'${t}'`;case"bigint":return`${t}n`;case"object":return this.$object(t);case"function":return this.$function(t)}return String(t)}serializeObject(t){const a=Object.prototype.toString.call(t);if(a!=="[object Object]")return this.serializeBuiltInType(a.length<10?`unknown:${a}`:a.slice(8,-1),t);const o=t.constructor,i=o===Object||o===void 0?"":o.name;if(i!==""&&globalThis[i]===o)return this.serializeBuiltInType(i,t);if(typeof t.toJSON=="function"){const s=t.toJSON();return i+(s!==null&&typeof s=="object"?this.$object(s):`(${this.serialize(s)})`)}return this.serializeObjectEntries(i,Object.entries(t))}serializeBuiltInType(t,a){const o=this["$"+t];if(o)return o.call(this,a);if(typeof a?.entries=="function")return this.serializeObjectEntries(t,a.entries());throw new Error(`Cannot serialize ${t}`)}serializeObjectEntries(t,a){const o=Array.from(a).sort((s,r)=>this.compare(s[0],r[0]));let i=`${t}{`;for(let s=0;s<o.length;s++){const[r,d]=o[s];i+=`${this.serialize(r,!0)}:${this.serialize(d)}`,s<o.length-1&&(i+=",")}return i+"}"}$object(t){let a=this.#e.get(t);return a===void 0&&(this.#e.set(t,`#${this.#e.size}`),a=this.serializeObject(t),this.#e.set(t,a)),a}$function(t){const a=Function.prototype.toString.call(t);return a.slice(-15)==="[native code] }"?`${t.name||""}()[native]`:`${t.name}(${t.length})${a.replace(/\s*\n\s*/g,"")}`}$Array(t){let a="[";for(let o=0;o<t.length;o++)a+=this.serialize(t[o]),o<t.length-1&&(a+=",");return a+"]"}$Date(t){try{return`Date(${t.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(t){return`ArrayBuffer[${new Uint8Array(t).join(",")}]`}$Set(t){return`Set${this.$Array(Array.from(t).sort((a,o)=>this.compare(a,o)))}`}$Map(t){return this.serializeObjectEntries("Map",t.entries())}}for(const n of["Error","RegExp","URL"])e.prototype["$"+n]=function(t){return`${n}(${t})`};for(const n of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])e.prototype["$"+n]=function(t){return`${n}[${t.join(",")}]`};for(const n of["BigInt64Array","BigUint64Array"])e.prototype["$"+n]=function(t){return`${n}[${t.join("n,")}${t.length>0?"n":""}]`};return e})(),st=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],rt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],it="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",k=[];class lt{_data=new L;_hash=new L([...st]);_nDataBytes=0;_minBufferSize=0;finalize(n){n&&this._append(n);const t=this._nDataBytes*8,a=this._data.sigBytes*8;return this._data.words[a>>>5]|=128<<24-a%32,this._data.words[(a+64>>>9<<4)+14]=Math.floor(t/4294967296),this._data.words[(a+64>>>9<<4)+15]=t,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(n,t){const a=this._hash.words;let o=a[0],i=a[1],s=a[2],r=a[3],d=a[4],f=a[5],l=a[6],c=a[7];for(let u=0;u<64;u++){if(u<16)k[u]=n[t+u]|0;else{const C=k[u-15],g=(C<<25|C>>>7)^(C<<14|C>>>18)^C>>>3,y=k[u-2],b=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;k[u]=g+k[u-7]+b+k[u-16]}const m=d&f^~d&l,h=o&i^o&s^i&s,v=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),p=(d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25),D=c+p+m+rt[u]+k[u],w=v+h;c=l,l=f,f=d,d=r+D|0,r=s,s=i,i=o,o=D+w|0}a[0]=a[0]+o|0,a[1]=a[1]+i|0,a[2]=a[2]+s|0,a[3]=a[3]+r|0,a[4]=a[4]+d|0,a[5]=a[5]+f|0,a[6]=a[6]+l|0,a[7]=a[7]+c|0}_append(n){typeof n=="string"&&(n=L.fromUtf8(n)),this._data.concat(n),this._nDataBytes+=n.sigBytes}_process(n){let t,a=this._data.sigBytes/64;n?a=Math.ceil(a):a=Math.max((a|0)-this._minBufferSize,0);const o=a*16,i=Math.min(o*4,this._data.sigBytes);if(o){for(let s=0;s<o;s+=16)this._doProcessBlock(this._data.words,s);t=this._data.words.splice(0,o),this._data.sigBytes-=i}return new L(t,i)}}class L{words;sigBytes;constructor(n,t){n=this.words=n||[],this.sigBytes=t===void 0?n.length*4:t}static fromUtf8(n){const t=unescape(encodeURIComponent(n)),a=t.length,o=[];for(let i=0;i<a;i++)o[i>>>2]|=(t.charCodeAt(i)&255)<<24-i%4*8;return new L(o,a)}toBase64(){const n=[];for(let t=0;t<this.sigBytes;t+=3){const a=this.words[t>>>2]>>>24-t%4*8&255,o=this.words[t+1>>>2]>>>24-(t+1)%4*8&255,i=this.words[t+2>>>2]>>>24-(t+2)%4*8&255,s=a<<16|o<<8|i;for(let r=0;r<4&&t*8+r*6<this.sigBytes*8;r++)n.push(it.charAt(s>>>6*(3-r)&63))}return n.join("")}concat(n){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let t=0;t<n.sigBytes;t++){const a=n.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=a<<24-(this.sigBytes+t)%4*8}else for(let t=0;t<n.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=n.words[t>>>2];this.sigBytes+=n.sigBytes}}function ct(e){return new lt().finalize(e).toBase64()}function M(e){return ct(at(e))}const ut={trailing:!0};function dt(e,n=25,t={}){if(t={...ut,...t},!Number.isFinite(n))throw new TypeError("Expected `wait` to be a finite number");let a,o,i=[],s,r;const d=(c,u)=>(s=ft(e,c,u),s.finally(()=>{if(s=null,t.trailing&&r&&!o){const m=d(c,r);return r=null,m}}),s),f=function(...c){return t.trailing&&(r=c),s||new Promise(u=>{const m=!o&&t.leading;clearTimeout(o),o=setTimeout(()=>{o=null;const h=t.leading?a:d(this,c);r=null;for(const v of i)v(h);i=[]},n),m?(a=d(this,c),u(a)):i.push(u)})},l=c=>{c&&(clearTimeout(c),o=null)};return f.isPending=()=>!!o,f.cancel=()=>{l(o),i=[],r=null},f.flush=()=>{if(l(o),!r||s)return;const c=r;return r=null,d(this,c)},f}async function ft(e,n,t){return await e.apply(n,t)}const ht=Symbol.for("nuxt:client-only"),yt=e=>e==="defer"||e===!1;function vt(...e){const n=typeof e[e.length-1]=="string"?e.pop():void 0;gt(e[0],e[1])&&e.unshift(n);let[t,a,o={}]=e,i=!1;const s=U(()=>$(t));if(typeof s.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof a!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const r=Be();o.server??=!0,o.default??=bt,o.getCachedData??=De,o.lazy??=!1,o.immediate??=!0,o.deep??=E.deep,o.dedupe??="cancel",o._functionName,r._asyncData[s.value];function d(){const h={cause:"initial",dedupe:o.dedupe};return r._asyncData[s.value]?._init||(h.cachedData=o.getCachedData(s.value,r,{cause:"initial"}),r._asyncData[s.value]=se(r,s.value,a,o,h.cachedData)),()=>r._asyncData[s.value].execute(h)}const f=d(),l=r._asyncData[s.value];l._deps++;const c=o.server!==!1&&r.payload.serverRendered;{let h=function(g){const y=r._asyncData[g];y?._deps&&(y._deps--,y._deps===0&&y?._off())};const v=J();if(v&&c&&o.immediate&&!v.sp&&(v.sp=[]),v&&!v._nuxtOnBeforeMountCbs){v._nuxtOnBeforeMountCbs=[];const g=v._nuxtOnBeforeMountCbs;Pe(()=>{g.forEach(y=>{y()}),g.splice(0,g.length)}),ue(()=>g.splice(0,g.length))}const p=v&&(v._nuxtClientOnly||Ie(ht,!1));c&&r.isHydrating&&(l.error.value||l.data.value!=null)?(l.pending.value=!1,l.status.value=l.error.value?"error":"success"):v&&(!p&&r.payload.serverRendered&&r.isHydrating||o.lazy)&&o.immediate?v._nuxtOnBeforeMountCbs.push(f):o.immediate&&f();const D=$e(),w=I(s,(g,y)=>{if((g||y)&&g!==y){i=!0;const b=r._asyncData[y]?.data.value!==E.value,O=r._asyncDataPromises[y]!==void 0,x={cause:"initial",dedupe:o.dedupe};if(!r._asyncData[g]?._init){let z;y&&b?z=r._asyncData[y].data.value:(z=o.getCachedData(g,r,{cause:"initial"}),x.cachedData=z),r._asyncData[g]=se(r,g,a,o,z)}r._asyncData[g]._deps++,y&&h(y),(o.immediate||b||O)&&r._asyncData[g].execute(x),ke(()=>{i=!1})}},{flush:"sync"}),C=o.watch?I(o.watch,()=>{i||r._asyncData[s.value]?._execute({cause:"watch",dedupe:o.dedupe})}):()=>{};D&&ze(()=>{w(),C(),h(s.value)})}const u={data:X(()=>r._asyncData[s.value]?.data),pending:X(()=>r._asyncData[s.value]?.pending),status:X(()=>r._asyncData[s.value]?.status),error:X(()=>r._asyncData[s.value]?.error),refresh:(...h)=>r._asyncData[s.value]?._init?r._asyncData[s.value].execute(...h):d()(),execute:(...h)=>u.refresh(...h),clear:()=>{const h=r._asyncData[s.value];if(h?._abortController)try{h._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{h._abortController=void 0}_e(r,s.value)}},m=Promise.resolve(r._asyncDataPromises[s.value]).then(()=>u);return Object.assign(m,u),m}function X(e){return U({get(){return e()?.value},set(n){const t=e();t&&(t.value=n)}})}function gt(e,n){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof n=="function")}function _e(e,n){n in e.payload.data&&(e.payload.data[n]=void 0),n in e.payload._errors&&(e.payload._errors[n]=E.errorValue),e._asyncData[n]&&(e._asyncData[n].data.value=void 0,e._asyncData[n].error.value=E.errorValue,e._asyncData[n].pending.value=!1,e._asyncData[n].status.value="idle"),n in e._asyncDataPromises&&(e._asyncDataPromises[n]=void 0)}function mt(e,n){const t={};for(const a of n)t[a]=e[a];return t}function se(e,n,t,a,o){e.payload._errors[n]??=E.errorValue;const i=a.getCachedData!==De,s=t,r=a.deep?S:Z,d=o!=null,f=e.hook("app:data:refresh",async c=>{(!c||c.includes(n))&&await l.execute({cause:"refresh:hook"})}),l={data:r(d?o:a.default()),pending:Z(!d),error:Ee(e.payload._errors,n),status:Z("idle"),execute:(...c)=>{const[u,m=void 0]=c,h=u&&m===void 0&&typeof u=="object"?u:{};if(e._asyncDataPromises[n]&&yt(h.dedupe??a.dedupe))return e._asyncDataPromises[n];if(h.cause==="initial"||e.isHydrating){const D="cachedData"in h?h.cachedData:a.getCachedData(n,e,{cause:h.cause??"refresh:manual"});if(D!=null)return e.payload.data[n]=l.data.value=D,l.error.value=E.errorValue,l.status.value="success",Promise.resolve(D)}l.pending.value=!0,l._abortController&&l._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),l._abortController=new AbortController,l.status.value="pending";const v=new AbortController,p=new Promise((D,w)=>{try{const C=h.timeout??a.timeout,g=_t([l._abortController?.signal,h?.signal],v.signal,C);if(g.aborted){const y=g.reason;w(y instanceof Error?y:new DOMException(String(y??"Aborted"),"AbortError"));return}return g.addEventListener("abort",()=>{const y=g.reason;w(y instanceof Error?y:new DOMException(String(y??"Aborted"),"AbortError"))},{once:!0,signal:v.signal}),Promise.resolve(s(e,{signal:g})).then(D,w)}catch(C){w(C)}}).then(async D=>{let w=D;a.transform&&(w=await a.transform(D)),a.pick&&(w=mt(w,a.pick)),e.payload.data[n]=w,l.data.value=w,l.error.value=E.errorValue,l.status.value="success"}).catch(D=>{if(e._asyncDataPromises[n]&&e._asyncDataPromises[n]!==p||l._abortController?.signal.aborted)return e._asyncDataPromises[n];if(typeof DOMException<"u"&&D instanceof DOMException&&D.name==="AbortError")return l.status.value="idle",e._asyncDataPromises[n];l.error.value=Te(D),l.data.value=xe(a.default()),l.status.value="error"}).finally(()=>{l.pending.value=!1,v.abort(),delete e._asyncDataPromises[n]});return e._asyncDataPromises[n]=p,e._asyncDataPromises[n]},_execute:dt((...c)=>l.execute(...c),0,{leading:!0}),_default:a.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{f(),e._asyncData[n]?._init&&(e._asyncData[n]._init=!1),i||de(()=>{e._asyncData[n]?._init||(_e(e,n),l.execute=()=>Promise.resolve(),l.data.value=E.value)})}};return l}const bt=()=>E.value,De=(e,n,t)=>{if(n.isHydrating)return n.payload.data[e];if(t.cause!=="refresh:manual"&&t.cause!=="refresh:hook")return n.static.data[e]};function _t(e,n,t){const a=e.filter(s=>!!s);if(typeof t=="number"&&t>=0){const s=AbortSignal.timeout?.(t);s&&a.push(s)}if(AbortSignal.any)return AbortSignal.any(a);const o=new AbortController;for(const s of a)if(s.aborted){const r=s.reason??new DOMException("Aborted","AbortError");try{o.abort(r)}catch{o.abort()}return o.signal}const i=()=>{const r=a.find(d=>d.aborted)?.reason??new DOMException("Aborted","AbortError");try{o.abort(r)}catch{o.abort()}};for(const s of a)s.addEventListener?.("abort",i,{once:!0,signal:n});return o.signal}function on(e,n,t){const[a={},o]=typeof n=="string"?[{},n]:[n,t],i=U(()=>$(e)),s=U(()=>$(a.key)||"$f"+M([o,typeof i.value=="string"?i.value:"",...Dt(a)]));if(!a.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:r,lazy:d,default:f,transform:l,pick:c,watch:u,immediate:m,getCachedData:h,deep:v,dedupe:p,timeout:D,...w}=a,C=Q({...Ae,...w,cache:typeof a.cache=="boolean"?void 0:a.cache}),g={server:r,lazy:d,default:f,transform:l,pick:c,immediate:m,getCachedData:h,deep:v,dedupe:p,timeout:D,watch:u===!1?[]:[...u||[],C]};if(!m){let b=function(){g.immediate=!0};I(s,b,{flush:"sync",once:!0}),I([...u||[],C],b,{flush:"sync",once:!0})}return vt(u===!1?s.value:s,(b,{signal:O})=>(a.$fetch||globalThis.$fetch)(i.value,{signal:O,...C}),g)}function Dt(e){const n=[$(e.method)?.toUpperCase()||"GET",$(e.baseURL)];for(const t of[e.query||e.params]){const a=$(t);if(!a)continue;const o={};for(const[i,s]of Object.entries(a))o[$(i)]=$(s);n.push(o)}if(e.body){const t=$(e.body);if(!t)n.push(M(t));else if(t instanceof ArrayBuffer)n.push(M(Object.fromEntries([...new Uint8Array(t).entries()].map(([a,o])=>[a,o.toString()]))));else if(t instanceof FormData){const a={};for(const o of t.entries()){const[i,s]=o;a[i]=s instanceof File?s.name:s}n.push(M(a))}else if(je(t))n.push(M(Q(t)));else try{n.push(M(t))}catch{console.warn("[useFetch] Failed to hash body",t)}}return n}let wt=2e3;const pt=()=>++wt,[Ct,V]=Y("loading"),St=Array(12).fill(null).map((e,n)=>_("i",{class:V("line",String(n+1))},null)),Ot=_("svg",{class:V("circular"),viewBox:"25 25 50 50"},[_("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),Bt={size:P,type:B("circular"),color:String,vertical:Boolean,textSize:P,textColor:String};var Pt=q({name:Ct,props:Bt,setup(e,{slots:n}){const t=U(()=>T({color:e.color},Fe(e.size))),a=()=>{const i=e.type==="spinner"?St:Ot;return _("span",{class:V("spinner",e.type),style:t.value},[n.icon?n.icon():i])},o=()=>{var i;if(n.default)return _("span",{class:V("text"),style:{fontSize:Ve(e.textSize),color:(i=e.textColor)!=null?i:e.color}},[n.default()])};return()=>{const{type:i,vertical:s}=e;return _("div",{class:V([i,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[a(),o()])}}});const we=K(Pt),[It,A]=Y("button"),zt=T({},Ye,{tag:B("button"),text:String,icon:String,type:B("default"),size:B("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:B("button"),loadingSize:P,loadingText:String,loadingType:String,iconPosition:B("left")});var sn=q({name:It,props:zt,emits:["click"],setup(e,{emit:n,slots:t}){const a=He(),o=()=>t.loading?t.loading():_(we,{size:e.loadingSize,type:e.loadingType,class:A("loading")},null),i=()=>{if(e.loading)return o();if(t.icon)return _("div",{class:A("icon")},[t.icon()]);if(e.icon)return _(ee,{name:e.icon,class:A("icon"),classPrefix:e.iconPrefix},null)},s=()=>{let f;if(e.loading?f=e.loadingText:f=t.default?t.default():e.text,f)return _("span",{class:A("text")},[f])},r=()=>{const{color:f,plain:l}=e;if(f){const c={color:l?f:"white"};return l||(c.background=f),f.includes("gradient")?c.border=0:c.borderColor=f,c}},d=f=>{e.loading?te(f):e.disabled||(n("click",f),a())};return()=>{const{tag:f,type:l,size:c,block:u,round:m,plain:h,square:v,loading:p,disabled:D,hairline:w,nativeType:C,iconPosition:g}=e,y=[A([l,c,{plain:h,block:u,round:m,square:v,loading:p,disabled:D,hairline:w}]),{[qe]:w}];return _(f,{type:C,class:y,style:r(),disabled:D,onClick:d},{default:()=>[_("div",{class:A("content")},[g==="left"&&i(),s(),g==="right"&&i()])]})}}});const $t={show:Boolean,zIndex:P,overlay:R,duration:P,teleport:[String,Object],lockScroll:R,lazyRender:R,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:W,transitionAppear:Boolean,closeOnClickOverlay:R};function pe(e){const n=J();n&&T(n.proxy,e)}function Et(e,n){return e>n?"horizontal":n>e?"vertical":""}function Tt(){const e=S(0),n=S(0),t=S(0),a=S(0),o=S(0),i=S(0),s=S(""),r=S(!0),d=()=>s.value==="vertical",f=()=>s.value==="horizontal",l=()=>{t.value=0,a.value=0,o.value=0,i.value=0,s.value="",r.value=!0};return{move:(m=>{const h=m.touches[0];t.value=(h.clientX<0?0:h.clientX)-e.value,a.value=h.clientY-n.value,o.value=Math.abs(t.value),i.value=Math.abs(a.value);const v=10;(!s.value||o.value<v&&i.value<v)&&(s.value=Et(o.value,i.value)),r.value&&(o.value>oe||i.value>oe)&&(r.value=!1)}),start:(m=>{l(),e.value=m.touches[0].clientX,n.value=m.touches[0].clientY}),reset:l,startX:e,startY:n,deltaX:t,deltaY:a,offsetX:o,offsetY:i,direction:s,isVertical:d,isHorizontal:f,isTap:r}}let N=0;const re="van-overflow-hidden";function xt(e,n){const t=Tt(),a="01",o="10",i=l=>{t.move(l);const c=t.deltaY.value>0?o:a,u=Ge(l.target,e.value),{scrollHeight:m,offsetHeight:h,scrollTop:v}=u;let p="11";v===0?p=h>=m?"00":"01":v+h>=m&&(p="10"),p!=="11"&&t.isVertical()&&!(parseInt(p,2)&parseInt(c,2))&&te(l,!0)},s=()=>{document.addEventListener("touchstart",t.start),document.addEventListener("touchmove",i,{passive:!1}),N||document.body.classList.add(re),N++},r=()=>{N&&(document.removeEventListener("touchstart",t.start),document.removeEventListener("touchmove",i),N--,N||document.body.classList.remove(re))},d=()=>n()&&s(),f=()=>n()&&r();Xe(d),fe(f),Me(f),I(n,l=>{l?s():r()})}function Ce(e){const n=S(!1);return I(e,t=>{t&&(n.value=t)},{immediate:!0}),t=>()=>n.value?t():null}const ie=()=>{var e;const{scopeId:n}=((e=J())==null?void 0:e.vnode)||{};return n?{[n]:""}:null},[kt,At]=Y("overlay"),jt={show:Boolean,zIndex:P,duration:P,className:W,lockScroll:R,lazyRender:R,customStyle:Object,teleport:[String,Object]};var Mt=q({name:kt,inheritAttrs:!1,props:jt,setup(e,{attrs:n,slots:t}){const a=S(),o=Ce(()=>e.show||!e.lazyRender),i=r=>{e.lockScroll&&te(r,!0)},s=o(()=>{var r;const d=T(We(e.zIndex),e.customStyle);return ne(e.duration)&&(d.animationDuration=`${e.duration}s`),ve(_("div",H({ref:a,style:d,class:[At(),e.className]},n),[(r=t.default)==null?void 0:r.call(t)]),[[ge,e.show]])});return be("touchmove",i,{target:a}),()=>{const r=_(he,{name:"van-fade",appear:!0},{default:s});return e.teleport?_(ye,{to:e.teleport},{default:()=>[r]}):r}}});const Rt=K(Mt),Lt=T({},$t,{round:Boolean,position:B("center"),closeIcon:B("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:B("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Ut,le]=Y("popup");var Nt=q({name:Ut,inheritAttrs:!1,props:Lt,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:n,attrs:t,slots:a}){let o,i;const s=S(),r=S(),d=Ce(()=>e.show||!e.lazyRender),f=U(()=>{const b={zIndex:s.value};if(ne(e.duration)){const O=e.position==="center"?"animationDuration":"transitionDuration";b[O]=`${e.duration}s`}return b}),l=()=>{o||(o=!0,s.value=e.zIndex!==void 0?+e.zIndex:pt(),n("open"))},c=()=>{o&&Je(e.beforeClose,{done(){o=!1,n("close"),n("update:show",!1)}})},u=b=>{n("clickOverlay",b),e.closeOnClickOverlay&&c()},m=()=>{if(e.overlay){const b=T({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},e.overlayProps);return _(Rt,H(b,ie(),{onClick:u}),{default:a["overlay-content"]})}},h=b=>{n("clickCloseIcon",b),c()},v=()=>{if(e.closeable)return _(ee,{role:"button",tabindex:0,name:e.closeIcon,class:[le("close-icon",e.closeIconPosition),Ze],classPrefix:e.iconPrefix,onClick:h},null)};let p;const D=()=>{p&&clearTimeout(p),p=setTimeout(()=>{n("opened")})},w=()=>n("closed"),C=b=>n("keydown",b),g=d(()=>{var b;const{destroyOnClose:O,round:x,position:z,safeAreaInsetTop:Se,safeAreaInsetBottom:Oe,show:ae}=e;if(!(!ae&&O))return ve(_("div",H({ref:r,style:f.value,role:"dialog",tabindex:0,class:[le({round:x,[z]:z}),{"van-safe-area-top":Se,"van-safe-area-bottom":Oe}],onKeydown:C},t,ie()),[(b=a.default)==null?void 0:b.call(a),v()]),[[ge,ae]])}),y=()=>{const{position:b,transition:O,transitionAppear:x}=e,z=b==="center"?"van-fade":`van-popup-slide-${b}`;return _(he,{name:O||z,appear:x,onAfterEnter:D,onAfterLeave:w},{default:g})};return I(()=>e.show,b=>{b&&!o&&(l(),t.tabindex===0&&de(()=>{var O;(O=r.value)==null||O.focus()})),!b&&o&&(o=!1,n("close"))}),pe({popupRef:r}),xt(r,()=>e.show&&e.lockScroll),be("popstate",()=>{e.closeOnPopstate&&(c(),i=!1)}),me(()=>{e.show&&l()}),Re(()=>{i&&(n("update:show",!0),i=!1)}),fe(()=>{e.show&&e.teleport&&(c(),i=!0)}),Ue(Qe,()=>e.show),()=>e.teleport?_(ye,{to:e.teleport},{default:()=>[m(),y()]}):_(Le,null,[m(),y()])}});const Ft=K(Nt);let F=0;function Vt(e){e?(F||document.body.classList.add("van-toast--unclickable"),F++):F&&(F--,F||document.body.classList.remove("van-toast--unclickable"))}const[Ht,j]=Y("toast"),qt=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Yt={icon:String,show:Boolean,type:B("text"),overlay:Boolean,message:P,iconSize:P,duration:Ke(2e3),position:B("middle"),teleport:[String,Object],wordBreak:String,className:W,iconPrefix:String,transition:B("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:W,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:P};var Xt=q({name:Ht,props:Yt,emits:["update:show"],setup(e,{emit:n,slots:t}){let a,o=!1;const i=()=>{const c=e.show&&e.forbidClick;o!==c&&(o=c,Vt(o))},s=c=>n("update:show",c),r=()=>{e.closeOnClick&&s(!1)},d=()=>clearTimeout(a),f=()=>{const{icon:c,type:u,iconSize:m,iconPrefix:h,loadingType:v}=e;if(c||u==="success"||u==="fail")return _(ee,{name:c||u,size:m,class:j("icon"),classPrefix:h},null);if(u==="loading")return _(we,{class:j("loading"),size:m,type:v},null)},l=()=>{const{type:c,message:u}=e;if(t.message)return _("div",{class:j("text")},[t.message()]);if(ne(u)&&u!=="")return c==="html"?_("div",{key:0,class:j("text"),innerHTML:String(u)},null):_("div",{class:j("text")},[u])};return I(()=>[e.show,e.forbidClick],i),I(()=>[e.show,e.type,e.message,e.duration],()=>{d(),e.show&&e.duration>0&&(a=setTimeout(()=>{s(!1)},e.duration))}),me(i),ue(i),()=>_(Ft,H({class:[j([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:r,onClosed:d,"onUpdate:show":s},et(e,qt)),{default:()=>[f(),l()]})}});function Gt(){const e=Q({show:!1}),n=o=>{e.show=o},t=o=>{T(e,o,{transitionAppear:!0}),n(!0)},a=()=>n(!1);return pe({open:t,close:a,toggle:n}),{open:t,close:a,state:e,toggle:n}}function Wt(e){const n=Ne(e),t=document.createElement("div");return document.body.appendChild(t),{instance:n.mount(t),unmount(){n.unmount(),document.body.removeChild(t)}}}const Jt={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let G=[],Zt=!1,ce=T({},Jt);const Qt=new Map;function Kt(e){return nt(e)?e:{message:e}}function en(){const{instance:e}=Wt({setup(){const n=S(""),{open:t,state:a,close:o,toggle:i}=Gt(),s=()=>{},r=()=>_(Xt,H(a,{onClosed:s,"onUpdate:show":i}),null);return I(n,d=>{a.message=d}),J().render=r,{open:t,close:o,message:n}}});return e}function tn(){if(!G.length||Zt){const e=en();G.push(e)}return G[G.length-1]}function rn(e={}){if(!tt)return{};const n=tn(),t=Kt(e);return n.open(T({},ce,Qt.get(t.type||ce.type),t)),n}export{Nt as a,rn as b,sn as c,pe as d,ie as e,Xt as s,on as u};
