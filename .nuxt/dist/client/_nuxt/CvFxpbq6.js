import{n as I,m as B,c as Y,e as $,z as Ie,a as Pe,w as K,r as Ee,b as ze,A as Te,I as ee,p as te,t as U,u as W,T as se,D as $e,E as ke,o as de,G as xe,i as ae,H as Ae,J as je,P as Me,K as Ue,L as Re,M as Ne,f as Le}from"./CJ14RTpw.js";import{k as N,W as z,a as Fe,X as T,Q,Y as He,Z as fe,H as Ve,K as P,$ as qe,M as Ye,r as O,s as J,a0 as Ze,S as he,a1 as Ge,N as Xe,L as We,R as ne,a2 as Qe,a3 as Je,d as Z,B as _,a4 as ye,e as Ke,a5 as ve,a6 as ge,a7 as me,a8 as be,T as q,o as _e,a9 as et,V as tt,U as at,aa as nt,ab as ot}from"./CM7szyLk.js";function st(e){return typeof e=="string"?`'${e}'`:new rt().serialize(e)}const rt=(function(){class e{#e=new Map;compare(t,n){const o=typeof t,i=typeof n;return o==="string"&&i==="string"?t.localeCompare(n):o==="number"&&i==="number"?t-n:String.prototype.localeCompare.call(this.serialize(t,!0),this.serialize(n,!0))}serialize(t,n){if(t===null)return"null";switch(typeof t){case"string":return n?t:`'${t}'`;case"bigint":return`${t}n`;case"object":return this.$object(t);case"function":return this.$function(t)}return String(t)}serializeObject(t){const n=Object.prototype.toString.call(t);if(n!=="[object Object]")return this.serializeBuiltInType(n.length<10?`unknown:${n}`:n.slice(8,-1),t);const o=t.constructor,i=o===Object||o===void 0?"":o.name;if(i!==""&&globalThis[i]===o)return this.serializeBuiltInType(i,t);if(typeof t.toJSON=="function"){const s=t.toJSON();return i+(s!==null&&typeof s=="object"?this.$object(s):`(${this.serialize(s)})`)}return this.serializeObjectEntries(i,Object.entries(t))}serializeBuiltInType(t,n){const o=this["$"+t];if(o)return o.call(this,n);if(typeof n?.entries=="function")return this.serializeObjectEntries(t,n.entries());throw new Error(`Cannot serialize ${t}`)}serializeObjectEntries(t,n){const o=Array.from(n).sort((s,r)=>this.compare(s[0],r[0]));let i=`${t}{`;for(let s=0;s<o.length;s++){const[r,d]=o[s];i+=`${this.serialize(r,!0)}:${this.serialize(d)}`,s<o.length-1&&(i+=",")}return i+"}"}$object(t){let n=this.#e.get(t);return n===void 0&&(this.#e.set(t,`#${this.#e.size}`),n=this.serializeObject(t),this.#e.set(t,n)),n}$function(t){const n=Function.prototype.toString.call(t);return n.slice(-15)==="[native code] }"?`${t.name||""}()[native]`:`${t.name}(${t.length})${n.replace(/\s*\n\s*/g,"")}`}$Array(t){let n="[";for(let o=0;o<t.length;o++)n+=this.serialize(t[o]),o<t.length-1&&(n+=",");return n+"]"}$Date(t){try{return`Date(${t.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(t){return`ArrayBuffer[${new Uint8Array(t).join(",")}]`}$Set(t){return`Set${this.$Array(Array.from(t).sort((n,o)=>this.compare(n,o)))}`}$Map(t){return this.serializeObjectEntries("Map",t.entries())}}for(const a of["Error","RegExp","URL"])e.prototype["$"+a]=function(t){return`${a}(${t})`};for(const a of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])e.prototype["$"+a]=function(t){return`${a}[${t.join(",")}]`};for(const a of["BigInt64Array","BigUint64Array"])e.prototype["$"+a]=function(t){return`${a}[${t.join("n,")}${t.length>0?"n":""}]`};return e})(),it=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],lt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",x=[];class ut{_data=new R;_hash=new R([...it]);_nDataBytes=0;_minBufferSize=0;finalize(a){a&&this._append(a);const t=this._nDataBytes*8,n=this._data.sigBytes*8;return this._data.words[n>>>5]|=128<<24-n%32,this._data.words[(n+64>>>9<<4)+14]=Math.floor(t/4294967296),this._data.words[(n+64>>>9<<4)+15]=t,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(a,t){const n=this._hash.words;let o=n[0],i=n[1],s=n[2],r=n[3],d=n[4],f=n[5],l=n[6],c=n[7];for(let u=0;u<64;u++){if(u<16)x[u]=a[t+u]|0;else{const C=x[u-15],g=(C<<25|C>>>7)^(C<<14|C>>>18)^C>>>3,y=x[u-2],b=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;x[u]=g+x[u-7]+b+x[u-16]}const m=d&f^~d&l,h=o&i^o&s^i&s,v=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),D=(d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25),w=c+D+m+lt[u]+x[u],p=v+h;c=l,l=f,f=d,d=r+w|0,r=s,s=i,i=o,o=w+p|0}n[0]=n[0]+o|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+r|0,n[4]=n[4]+d|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+c|0}_append(a){typeof a=="string"&&(a=R.fromUtf8(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes}_process(a){let t,n=this._data.sigBytes/64;a?n=Math.ceil(n):n=Math.max((n|0)-this._minBufferSize,0);const o=n*16,i=Math.min(o*4,this._data.sigBytes);if(o){for(let s=0;s<o;s+=16)this._doProcessBlock(this._data.words,s);t=this._data.words.splice(0,o),this._data.sigBytes-=i}return new R(t,i)}}class R{words;sigBytes;constructor(a,t){a=this.words=a||[],this.sigBytes=t===void 0?a.length*4:t}static fromUtf8(a){const t=unescape(encodeURIComponent(a)),n=t.length,o=[];for(let i=0;i<n;i++)o[i>>>2]|=(t.charCodeAt(i)&255)<<24-i%4*8;return new R(o,n)}toBase64(){const a=[];for(let t=0;t<this.sigBytes;t+=3){const n=this.words[t>>>2]>>>24-t%4*8&255,o=this.words[t+1>>>2]>>>24-(t+1)%4*8&255,i=this.words[t+2>>>2]>>>24-(t+2)%4*8&255,s=n<<16|o<<8|i;for(let r=0;r<4&&t*8+r*6<this.sigBytes*8;r++)a.push(ct.charAt(s>>>6*(3-r)&63))}return a.join("")}concat(a){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let t=0;t<a.sigBytes;t++){const n=a.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=n<<24-(this.sigBytes+t)%4*8}else for(let t=0;t<a.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=a.words[t>>>2];this.sigBytes+=a.sigBytes}}function dt(e){return new ut().finalize(e).toBase64()}function M(e){return dt(st(e))}const ft={trailing:!0};function ht(e,a=25,t={}){if(t={...ft,...t},!Number.isFinite(a))throw new TypeError("Expected `wait` to be a finite number");let n,o,i=[],s,r;const d=(c,u)=>(s=yt(e,c,u),s.finally(()=>{if(s=null,t.trailing&&r&&!o){const m=d(c,r);return r=null,m}}),s),f=function(...c){return t.trailing&&(r=c),s||new Promise(u=>{const m=!o&&t.leading;clearTimeout(o),o=setTimeout(()=>{o=null;const h=t.leading?n:d(this,c);r=null;for(const v of i)v(h);i=[]},a),m?(n=d(this,c),u(n)):i.push(u)})},l=c=>{c&&(clearTimeout(c),o=null)};return f.isPending=()=>!!o,f.cancel=()=>{l(o),i=[],r=null},f.flush=()=>{if(l(o),!r||s)return;const c=r;return r=null,d(this,c)},f}async function yt(e,a,t){return await e.apply(a,t)}const vt=Symbol.for("nuxt:client-only"),gt=e=>e==="defer"||e===!1;function mt(...e){const a=typeof e[e.length-1]=="string"?e.pop():void 0;bt(e[0],e[1])&&e.unshift(a);let[t,n,o={}]=e,i=!1;const s=N(()=>z(t));if(typeof s.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof n!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const r=Fe();o.server??=!0,o.default??=wt,o.getCachedData??=pe,o.lazy??=!1,o.immediate??=!0,o.deep??=T.deep,o.dedupe??="cancel",o._functionName,r._asyncData[s.value];function d(){const h={cause:"initial",dedupe:o.dedupe};return r._asyncData[s.value]?._init||(h.cachedData=o.getCachedData(s.value,r,{cause:"initial"}),r._asyncData[s.value]=re(r,s.value,n,o,h.cachedData)),()=>r._asyncData[s.value].execute(h)}const f=d(),l=r._asyncData[s.value];l._deps++;const c=o.server!==!1&&r.payload.serverRendered;{let h=function(g){const y=r._asyncData[g];y?._deps&&(y._deps--,y._deps===0&&y?._off())};const v=Q();if(v&&c&&o.immediate&&!v.sp&&(v.sp=[]),v&&!v._nuxtOnBeforeMountCbs){v._nuxtOnBeforeMountCbs=[];const g=v._nuxtOnBeforeMountCbs;He(()=>{g.forEach(y=>{y()}),g.splice(0,g.length)}),fe(()=>g.splice(0,g.length))}const D=v&&(v._nuxtClientOnly||Ve(vt,!1));c&&r.isHydrating&&(l.error.value||l.data.value!=null)?(l.pending.value=!1,l.status.value=l.error.value?"error":"success"):v&&(!D&&r.payload.serverRendered&&r.isHydrating||o.lazy)&&o.immediate?v._nuxtOnBeforeMountCbs.push(f):o.immediate&&f();const w=We(),p=P(s,(g,y)=>{if((g||y)&&g!==y){i=!0;const b=r._asyncData[y]?.data.value!==T.value,S=r._asyncDataPromises[y]!==void 0,k={cause:"initial",dedupe:o.dedupe};if(!r._asyncData[g]?._init){let E;y&&b?E=r._asyncData[y].data.value:(E=o.getCachedData(g,r,{cause:"initial"}),k.cachedData=E),r._asyncData[g]=re(r,g,n,o,E)}r._asyncData[g]._deps++,y&&h(y),(o.immediate||b||S)&&r._asyncData[g].execute(k),qe(()=>{i=!1})}},{flush:"sync"}),C=o.watch?P(o.watch,()=>{i||r._asyncData[s.value]?._execute({cause:"watch",dedupe:o.dedupe})}):()=>{};w&&Ye(()=>{p(),C(),h(s.value)})}const u={data:G(()=>r._asyncData[s.value]?.data),pending:G(()=>r._asyncData[s.value]?.pending),status:G(()=>r._asyncData[s.value]?.status),error:G(()=>r._asyncData[s.value]?.error),refresh:(...h)=>r._asyncData[s.value]?._init?r._asyncData[s.value].execute(...h):d()(),execute:(...h)=>u.refresh(...h),clear:()=>{const h=r._asyncData[s.value];if(h?._abortController)try{h._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{h._abortController=void 0}we(r,s.value)}},m=Promise.resolve(r._asyncDataPromises[s.value]).then(()=>u);return Object.assign(m,u),m}function G(e){return N({get(){return e()?.value},set(a){const t=e();t&&(t.value=a)}})}function bt(e,a){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof a=="function")}function we(e,a){a in e.payload.data&&(e.payload.data[a]=void 0),a in e.payload._errors&&(e.payload._errors[a]=T.errorValue),e._asyncData[a]&&(e._asyncData[a].data.value=void 0,e._asyncData[a].error.value=T.errorValue,e._asyncData[a].pending.value=!1,e._asyncData[a].status.value="idle"),a in e._asyncDataPromises&&(e._asyncDataPromises[a]=void 0)}function _t(e,a){const t={};for(const n of a)t[n]=e[n];return t}function re(e,a,t,n,o){e.payload._errors[a]??=T.errorValue;const i=n.getCachedData!==pe,s=t,r=n.deep?O:J,d=o!=null,f=e.hook("app:data:refresh",async c=>{(!c||c.includes(a))&&await l.execute({cause:"refresh:hook"})}),l={data:r(d?o:n.default()),pending:J(!d),error:Ze(e.payload._errors,a),status:J("idle"),execute:(...c)=>{const[u,m=void 0]=c,h=u&&m===void 0&&typeof u=="object"?u:{};if(e._asyncDataPromises[a]&&gt(h.dedupe??n.dedupe))return e._asyncDataPromises[a];if(h.cause==="initial"||e.isHydrating){const w="cachedData"in h?h.cachedData:n.getCachedData(a,e,{cause:h.cause??"refresh:manual"});if(w!=null)return e.payload.data[a]=l.data.value=w,l.error.value=T.errorValue,l.status.value="success",Promise.resolve(w)}l.pending.value=!0,l._abortController&&l._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),l._abortController=new AbortController,l.status.value="pending";const v=new AbortController,D=new Promise((w,p)=>{try{const C=h.timeout??n.timeout,g=pt([l._abortController?.signal,h?.signal],v.signal,C);if(g.aborted){const y=g.reason;p(y instanceof Error?y:new DOMException(String(y??"Aborted"),"AbortError"));return}return g.addEventListener("abort",()=>{const y=g.reason;p(y instanceof Error?y:new DOMException(String(y??"Aborted"),"AbortError"))},{once:!0,signal:v.signal}),Promise.resolve(s(e,{signal:g})).then(w,p)}catch(C){p(C)}}).then(async w=>{let p=w;n.transform&&(p=await n.transform(w)),n.pick&&(p=_t(p,n.pick)),e.payload.data[a]=p,l.data.value=p,l.error.value=T.errorValue,l.status.value="success"}).catch(w=>{if(e._asyncDataPromises[a]&&e._asyncDataPromises[a]!==D||l._abortController?.signal.aborted)return e._asyncDataPromises[a];if(typeof DOMException<"u"&&w instanceof DOMException&&w.name==="AbortError")return l.status.value="idle",e._asyncDataPromises[a];l.error.value=Ge(w),l.data.value=Xe(n.default()),l.status.value="error"}).finally(()=>{l.pending.value=!1,v.abort(),delete e._asyncDataPromises[a]});return e._asyncDataPromises[a]=D,e._asyncDataPromises[a]},_execute:ht((...c)=>l.execute(...c),0,{leading:!0}),_default:n.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{f(),e._asyncData[a]?._init&&(e._asyncData[a]._init=!1),i||he(()=>{e._asyncData[a]?._init||(we(e,a),l.execute=()=>Promise.resolve(),l.data.value=T.value)})}};return l}const wt=()=>T.value,pe=(e,a,t)=>{if(a.isHydrating)return a.payload.data[e];if(t.cause!=="refresh:manual"&&t.cause!=="refresh:hook")return a.static.data[e]};function pt(e,a,t){const n=e.filter(s=>!!s);if(typeof t=="number"&&t>=0){const s=AbortSignal.timeout?.(t);s&&n.push(s)}if(AbortSignal.any)return AbortSignal.any(n);const o=new AbortController;for(const s of n)if(s.aborted){const r=s.reason??new DOMException("Aborted","AbortError");try{o.abort(r)}catch{o.abort()}return o.signal}const i=()=>{const r=n.find(d=>d.aborted)?.reason??new DOMException("Aborted","AbortError");try{o.abort(r)}catch{o.abort()}};for(const s of n)s.addEventListener?.("abort",i,{once:!0,signal:a});return o.signal}function L(e,a,t){const[n={},o]=typeof a=="string"?[{},a]:[a,t],i=N(()=>z(e)),s=N(()=>z(n.key)||"$f"+M([o,typeof i.value=="string"?i.value:"",...Dt(n)]));if(!n.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:r,lazy:d,default:f,transform:l,pick:c,watch:u,immediate:m,getCachedData:h,deep:v,dedupe:D,timeout:w,...p}=n,C=ne({...Qe,...p,cache:typeof n.cache=="boolean"?void 0:n.cache}),g={server:r,lazy:d,default:f,transform:l,pick:c,immediate:m,getCachedData:h,deep:v,dedupe:D,timeout:w,watch:u===!1?[]:[...u||[],C]};if(!m){let b=function(){g.immediate=!0};P(s,b,{flush:"sync",once:!0}),P([...u||[],C],b,{flush:"sync",once:!0})}return mt(u===!1?s.value:s,(b,{signal:S})=>(n.$fetch||globalThis.$fetch)(i.value,{signal:S,...C}),g)}function Dt(e){const a=[z(e.method)?.toUpperCase()||"GET",z(e.baseURL)];for(const t of[e.query||e.params]){const n=z(t);if(!n)continue;const o={};for(const[i,s]of Object.entries(n))o[z(i)]=z(s);a.push(o)}if(e.body){const t=z(e.body);if(!t)a.push(M(t));else if(t instanceof ArrayBuffer)a.push(M(Object.fromEntries([...new Uint8Array(t).entries()].map(([n,o])=>[n,o.toString()]))));else if(t instanceof FormData){const n={};for(const o of t.entries()){const[i,s]=o;n[i]=s instanceof File?s.name:s}a.push(M(n))}else if(Je(t))a.push(M(ne(t)));else try{a.push(M(t))}catch{console.warn("[useFetch] Failed to hash body",t)}}return a}let Ct=2e3;const Ot=()=>++Ct,[St,V]=Y("loading"),Bt=Array(12).fill(null).map((e,a)=>_("i",{class:V("line",String(a+1))},null)),It=_("svg",{class:V("circular"),viewBox:"25 25 50 50"},[_("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),Pt={size:I,type:B("circular"),color:String,vertical:Boolean,textSize:I,textColor:String};var Et=Z({name:St,props:Pt,setup(e,{slots:a}){const t=N(()=>$({color:e.color},Ie(e.size))),n=()=>{const i=e.type==="spinner"?Bt:It;return _("span",{class:V("spinner",e.type),style:t.value},[a.icon?a.icon():i])},o=()=>{var i;if(a.default)return _("span",{class:V("text"),style:{fontSize:Pe(e.textSize),color:(i=e.textColor)!=null?i:e.color}},[a.default()])};return()=>{const{type:i,vertical:s}=e;return _("div",{class:V([i,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[n(),o()])}}});const De=K(Et),[zt,A]=Y("button"),Tt=$({},Ee,{tag:B("button"),text:String,icon:String,type:B("default"),size:B("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:B("button"),loadingSize:I,loadingText:String,loadingType:String,iconPosition:B("left")});var ra=Z({name:zt,props:Tt,emits:["click"],setup(e,{emit:a,slots:t}){const n=ze(),o=()=>t.loading?t.loading():_(De,{size:e.loadingSize,type:e.loadingType,class:A("loading")},null),i=()=>{if(e.loading)return o();if(t.icon)return _("div",{class:A("icon")},[t.icon()]);if(e.icon)return _(ee,{name:e.icon,class:A("icon"),classPrefix:e.iconPrefix},null)},s=()=>{let f;if(e.loading?f=e.loadingText:f=t.default?t.default():e.text,f)return _("span",{class:A("text")},[f])},r=()=>{const{color:f,plain:l}=e;if(f){const c={color:l?f:"white"};return l||(c.background=f),f.includes("gradient")?c.border=0:c.borderColor=f,c}},d=f=>{e.loading?te(f):e.disabled||(a("click",f),n())};return()=>{const{tag:f,type:l,size:c,block:u,round:m,plain:h,square:v,loading:D,disabled:w,hairline:p,nativeType:C,iconPosition:g}=e,y=[A([l,c,{plain:h,block:u,round:m,square:v,loading:D,disabled:w,hairline:p}]),{[Te]:p}];return _(f,{type:C,class:y,style:r(),disabled:w,onClick:d},{default:()=>[_("div",{class:A("content")},[g==="left"&&i(),s(),g==="right"&&i()])]})}}});function Ce(e){const a=Q();a&&$(a.proxy,e)}const $t={show:Boolean,zIndex:I,overlay:U,duration:I,teleport:[String,Object],lockScroll:U,lazyRender:U,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:W,transitionAppear:Boolean,closeOnClickOverlay:U};function kt(e,a){return e>a?"horizontal":a>e?"vertical":""}function xt(){const e=O(0),a=O(0),t=O(0),n=O(0),o=O(0),i=O(0),s=O(""),r=O(!0),d=()=>s.value==="vertical",f=()=>s.value==="horizontal",l=()=>{t.value=0,n.value=0,o.value=0,i.value=0,s.value="",r.value=!0};return{move:(m=>{const h=m.touches[0];t.value=(h.clientX<0?0:h.clientX)-e.value,n.value=h.clientY-a.value,o.value=Math.abs(t.value),i.value=Math.abs(n.value);const v=10;(!s.value||o.value<v&&i.value<v)&&(s.value=kt(o.value,i.value)),r.value&&(o.value>se||i.value>se)&&(r.value=!1)}),start:(m=>{l(),e.value=m.touches[0].clientX,a.value=m.touches[0].clientY}),reset:l,startX:e,startY:a,deltaX:t,deltaY:n,offsetX:o,offsetY:i,direction:s,isVertical:d,isHorizontal:f,isTap:r}}let F=0;const ie="van-overflow-hidden";function At(e,a){const t=xt(),n="01",o="10",i=l=>{t.move(l);const c=t.deltaY.value>0?o:n,u=ke(l.target,e.value),{scrollHeight:m,offsetHeight:h,scrollTop:v}=u;let D="11";v===0?D=h>=m?"00":"01":v+h>=m&&(D="10"),D!=="11"&&t.isVertical()&&!(parseInt(D,2)&parseInt(c,2))&&te(l,!0)},s=()=>{document.addEventListener("touchstart",t.start),document.addEventListener("touchmove",i,{passive:!1}),F||document.body.classList.add(ie),F++},r=()=>{F&&(document.removeEventListener("touchstart",t.start),document.removeEventListener("touchmove",i),F--,F||document.body.classList.remove(ie))},d=()=>a()&&s(),f=()=>a()&&r();$e(d),ye(f),Ke(f),P(a,l=>{l?s():r()})}function Oe(e){const a=O(!1);return P(e,t=>{t&&(a.value=t)},{immediate:!0}),t=>()=>a.value?t():null}const le=()=>{var e;const{scopeId:a}=((e=Q())==null?void 0:e.vnode)||{};return a?{[a]:""}:null},[jt,Mt]=Y("overlay"),Ut={show:Boolean,zIndex:I,duration:I,className:W,lockScroll:U,lazyRender:U,customStyle:Object,teleport:[String,Object]};var Rt=Z({name:jt,inheritAttrs:!1,props:Ut,setup(e,{attrs:a,slots:t}){const n=O(),o=Oe(()=>e.show||!e.lazyRender),i=r=>{e.lockScroll&&te(r,!0)},s=o(()=>{var r;const d=$(xe(e.zIndex),e.customStyle);return ae(e.duration)&&(d.animationDuration=`${e.duration}s`),me(_("div",q({ref:n,style:d,class:[Mt(),e.className]},a),[(r=t.default)==null?void 0:r.call(t)]),[[be,e.show]])});return de("touchmove",i,{target:n}),()=>{const r=_(ve,{name:"van-fade",appear:!0},{default:s});return e.teleport?_(ge,{to:e.teleport},{default:()=>[r]}):r}}});const Nt=K(Rt),Lt=$({},$t,{round:Boolean,position:B("center"),closeIcon:B("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:B("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Ft,ce]=Y("popup");var Ht=Z({name:Ft,inheritAttrs:!1,props:Lt,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:a,attrs:t,slots:n}){let o,i;const s=O(),r=O(),d=Oe(()=>e.show||!e.lazyRender),f=N(()=>{const b={zIndex:s.value};if(ae(e.duration)){const S=e.position==="center"?"animationDuration":"transitionDuration";b[S]=`${e.duration}s`}return b}),l=()=>{o||(o=!0,s.value=e.zIndex!==void 0?+e.zIndex:Ot(),a("open"))},c=()=>{o&&Ae(e.beforeClose,{done(){o=!1,a("close"),a("update:show",!1)}})},u=b=>{a("clickOverlay",b),e.closeOnClickOverlay&&c()},m=()=>{if(e.overlay){const b=$({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},e.overlayProps);return _(Nt,q(b,le(),{onClick:u}),{default:n["overlay-content"]})}},h=b=>{a("clickCloseIcon",b),c()},v=()=>{if(e.closeable)return _(ee,{role:"button",tabindex:0,name:e.closeIcon,class:[ce("close-icon",e.closeIconPosition),je],classPrefix:e.iconPrefix,onClick:h},null)};let D;const w=()=>{D&&clearTimeout(D),D=setTimeout(()=>{a("opened")})},p=()=>a("closed"),C=b=>a("keydown",b),g=d(()=>{var b;const{destroyOnClose:S,round:k,position:E,safeAreaInsetTop:Se,safeAreaInsetBottom:Be,show:oe}=e;if(!(!oe&&S))return me(_("div",q({ref:r,style:f.value,role:"dialog",tabindex:0,class:[ce({round:k,[E]:E}),{"van-safe-area-top":Se,"van-safe-area-bottom":Be}],onKeydown:C},t,le()),[(b=n.default)==null?void 0:b.call(n),v()]),[[be,oe]])}),y=()=>{const{position:b,transition:S,transitionAppear:k}=e,E=b==="center"?"van-fade":`van-popup-slide-${b}`;return _(ve,{name:S||E,appear:k,onAfterEnter:w,onAfterLeave:p},{default:g})};return P(()=>e.show,b=>{b&&!o&&(l(),t.tabindex===0&&he(()=>{var S;(S=r.value)==null||S.focus()})),!b&&o&&(o=!1,a("close"))}),Ce({popupRef:r}),At(r,()=>e.show&&e.lockScroll),de("popstate",()=>{e.closeOnPopstate&&(c(),i=!1)}),_e(()=>{e.show&&l()}),et(()=>{i&&(a("update:show",!0),i=!1)}),ye(()=>{e.show&&e.teleport&&(c(),i=!0)}),at(Me,()=>e.show),()=>e.teleport?_(ge,{to:e.teleport},{default:()=>[m(),y()]}):_(tt,null,[m(),y()])}});const Vt=K(Ht);let H=0;function qt(e){e?(H||document.body.classList.add("van-toast--unclickable"),H++):H&&(H--,H||document.body.classList.remove("van-toast--unclickable"))}const[Yt,j]=Y("toast"),Zt=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Gt={icon:String,show:Boolean,type:B("text"),overlay:Boolean,message:I,iconSize:I,duration:Ue(2e3),position:B("middle"),teleport:[String,Object],wordBreak:String,className:W,iconPrefix:String,transition:B("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:W,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:I};var Xt=Z({name:Yt,props:Gt,emits:["update:show"],setup(e,{emit:a,slots:t}){let n,o=!1;const i=()=>{const c=e.show&&e.forbidClick;o!==c&&(o=c,qt(o))},s=c=>a("update:show",c),r=()=>{e.closeOnClick&&s(!1)},d=()=>clearTimeout(n),f=()=>{const{icon:c,type:u,iconSize:m,iconPrefix:h,loadingType:v}=e;if(c||u==="success"||u==="fail")return _(ee,{name:c||u,size:m,class:j("icon"),classPrefix:h},null);if(u==="loading")return _(De,{class:j("loading"),size:m,type:v},null)},l=()=>{const{type:c,message:u}=e;if(t.message)return _("div",{class:j("text")},[t.message()]);if(ae(u)&&u!=="")return c==="html"?_("div",{key:0,class:j("text"),innerHTML:String(u)},null):_("div",{class:j("text")},[u])};return P(()=>[e.show,e.forbidClick],i),P(()=>[e.show,e.type,e.message,e.duration],()=>{d(),e.show&&e.duration>0&&(n=setTimeout(()=>{s(!1)},e.duration))}),_e(i),fe(i),()=>_(Vt,q({class:[j([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:r,onClosed:d,"onUpdate:show":s},Re(e,Zt)),{default:()=>[f(),l()]})}});function Wt(){const e=ne({show:!1}),a=o=>{e.show=o},t=o=>{$(e,o,{transitionAppear:!0}),a(!0)},n=()=>a(!1);return Ce({open:t,close:n,toggle:a}),{open:t,close:n,state:e,toggle:a}}function Qt(e){const a=nt(e),t=document.createElement("div");return document.body.appendChild(t),{instance:a.mount(t),unmount(){a.unmount(),document.body.removeChild(t)}}}const Jt={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let X=[],Kt=!1,ue=$({},Jt);const ea=new Map;function ta(e){return Le(e)?e:{message:e}}function aa(){const{instance:e}=Qt({setup(){const a=O(""),{open:t,state:n,close:o,toggle:i}=Wt(),s=()=>{},r=()=>_(Xt,q(n,{onClosed:s,"onUpdate:show":i}),null);return P(a,d=>{n.message=d}),Q().render=r,{open:t,close:o,message:a}}});return e}function na(){if(!X.length||Kt){const e=aa();X.push(e)}return X[X.length-1]}function ia(e={}){if(!Ne)return{};const a=na(),t=ta(e);return a.open($({},ue,ea.get(t.type||ue.type),t)),a}const la=ot("player",{state:()=>({playerInfo:null,token:null}),actions:{async register(e){const{data:a,error:t}=await L("/api/user/register",{method:"POST",body:e},"$pkbWiIeQNi");if(t.value)throw t.value;if(!a.value)throw new Error("注册失败");if(!a.value.success)throw new Error(a.value.message);this.playerInfo=a.value.data},async login(e){const{data:a,error:t}=await L("/api/user/login",{method:"POST",body:e},"$ShvpT786Zb");if(t.value)throw t.value;if(!a.value)throw new Error("登录失败");if(!a.value.success)throw new Error(a.value.message);this.playerInfo=a.value.data},async fetchProfile(){const{data:e,error:a}=await L("/api/user/profile",{method:"GET"},"$ZNOQHEzEyU");if(a.value)throw a.value;if(!e.value)throw new Error("获取玩家信息失败");if(!e.value.success){if(e.value.code==="AUTH_UNAUTHORIZED"){this.playerInfo=null,this.token=null;return}throw new Error(e.value.message)}this.playerInfo=e.value.data},async cultivate(){const{data:e,error:a}=await L("/api/game/cultivate",{method:"POST"},"$byfe_taCqQ");if(a.value)throw a.value;if(!e.value)throw new Error("修炼失败");if(!e.value.success){if(e.value.code==="AUTH_UNAUTHORIZED"){this.playerInfo=null,this.token=null;return}throw new Error(e.value.message)}this.playerInfo=e.value.data},async breakthrough(){const{data:e,error:a}=await L("/api/game/breakthrough",{method:"POST"},"$COMMd0azag");if(a.value)throw a.value;if(!e.value)throw new Error("突破失败");if(!e.value.success){if(e.value.code==="AUTH_UNAUTHORIZED"){this.playerInfo=null,this.token=null;return}throw new Error(e.value.message)}this.playerInfo=e.value.data},logout(){this.playerInfo=null,this.token=null}}});export{ra as a,ia as b,Ce as c,le as d,Xt as s,la as u};
