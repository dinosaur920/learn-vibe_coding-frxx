import{O,Q as V,R as $,S as N,l as H,n as p,t as B,c as y,d as M,H as z,B as E,J as j,e as D,b as U,o as W,f as F,U as J,I as K,r as Q}from"./DSmQk4JK.js";import{r as k,o as X,W as C,R as Y,B as s,d as S,U as Z,k as q,X as G,_ as L,x as ee,y as te,z as ae,af as ne,C as b,D as _}from"./C57q5Bld.js";const oe=(e,a)=>{const t=k(),n=()=>{t.value=N(e).height};return X(()=>{C(n);for(let l=1;l<=3;l++)setTimeout(n,100*l)}),O(()=>C(n)),Y([V,$],n),t};function re(e,a){const t=oe(e);return n=>s("div",{class:a("placeholder"),style:{height:t.value?`${t.value}px`:void 0}},[n()])}const[A,I]=y("tabbar"),se={route:Boolean,fixed:B,border:B,zIndex:p,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:H(0),safeAreaInsetBottom:{type:Boolean,default:null}},R=Symbol(A);var ce=S({name:A,props:se,emits:["change","update:modelValue"],setup(e,{emit:a,slots:t}){const n=k(),{linkChildren:l}=M(R),d=re(n,I),v=()=>{var o;return(o=e.safeAreaInsetBottom)!=null?o:e.fixed},c=()=>{var o;const{fixed:r,zIndex:i,border:f}=e;return s("div",{ref:n,role:"tablist",style:z(i),class:[I({fixed:r}),{[E]:f,"van-safe-area-bottom":v()}]},[(o=t.default)==null?void 0:o.call(t)])};return l({props:e,setActive:(o,r)=>{j(e.beforeChange,{args:[o],done(){a("update:modelValue",o),a("change",o),r()}})}}),()=>e.fixed&&e.placeholder?d(c):c()}});const[le,g]=y("tabbar-item"),ie=D({},Q,{dot:Boolean,icon:String,name:p,badge:p,badgeProps:Object,iconPrefix:String});var de=S({name:le,props:ie,emits:["click"],setup(e,{emit:a,slots:t}){const n=U(),l=Z().proxy,{parent:d,index:v}=W(R);if(!d)return;const c=q(()=>{var r;const{route:i,modelValue:f}=d.props;if(i&&"$route"in l){const{$route:h}=l,{to:m}=e,u=F(m)?m:{path:m};return h.matched.some(P=>{const T="path"in u&&u.path===P.path,w="name"in u&&u.name===P.name;return T||w})}return((r=e.name)!=null?r:v.value)===f}),x=r=>{var i;c.value||d.setActive((i=e.name)!=null?i:v.value,n),a("click",r)},o=()=>{if(t.icon)return t.icon({active:c.value});if(e.icon)return s(K,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var r;const{dot:i,badge:f}=e,{activeColor:h,inactiveColor:m}=d.props,u=c.value?h:m;return s("div",{role:"tab",class:g({active:c.value}),style:{color:u},tabindex:0,"aria-selected":c.value,onClick:x},[s(J,G({dot:i,class:g("icon"),content:f},e.badgeProps),{default:o}),s("div",{class:g("text")},[(r=t.default)==null?void 0:r.call(t,{active:c.value})])])}}});const ue={},fe={class:"layout"},me={class:"layout-content"};function ve(e,a){const t=de,n=ce;return te(),ee("div",fe,[ae("div",me,[ne(e.$slots,"default",{},void 0)]),s(n,{route:"",fixed:"","safe-area-inset-bottom":""},{default:b(()=>[s(t,{replace:"",to:"/",icon:"fire-o"},{default:b(()=>[...a[0]||(a[0]=[_(" 修炼 ",-1)])]),_:1}),s(t,{replace:"",to:"/cave",icon:"home-o"},{default:b(()=>[...a[1]||(a[1]=[_(" 洞府 ",-1)])]),_:1}),s(t,{replace:"",to:"/inventory",icon:"bag-o"},{default:b(()=>[...a[2]||(a[2]=[_(" 行囊 ",-1)])]),_:1})]),_:1})])}const _e=L(ue,[["render",ve],["__scopeId","data-v-a01bed2d"]]);export{_e as default};
