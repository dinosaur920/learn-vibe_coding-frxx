import{s as y,a as w,b as V}from"./BhCvO39B.js";import{c as x,b as u}from"./BskD4ZCU.js";import"./DSmQk4JK.js";import{d as k,r as d,x as B,z as o,B as a,C as l,J as C,y as N,D as c,_ as S}from"./C57q5Bld.js";import{u as $}from"./Ao_tioNJ.js";const h={class:"page"},T={class:"actions"},U=k({__name:"register",setup(z){const t=d(""),s=d(""),n=d(!1),_=C(),f=$(),v=async()=>{if(!t.value||!s.value){u("请输入账号和密码");return}n.value=!0;try{await f.register({username:t.value,password:s.value}),u("注册成功，请登录"),_.push("/login")}catch(p){const e=p?.message||"注册失败，请稍后重试";u(e)}finally{n.value=!1}};return(p,e)=>{const i=V,b=w,m=x,g=y;return N(),B("div",h,[e[4]||(e[4]=o("div",{class:"header"},[o("h1",{class:"title"},"凡人修仙传·掌上仙途"),o("p",{class:"subtitle"},"新建账号，开启修仙旅程")],-1)),a(g,{onSubmit:v},{default:l(()=>[a(b,{inset:""},{default:l(()=>[a(i,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=r=>t.value=r),name:"username",label:"账号",placeholder:"请输入账号",autocomplete:"username",clearable:""},null,8,["modelValue"]),a(i,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=r=>s.value=r),name:"password",label:"密码",type:"password",placeholder:"请输入密码",autocomplete:"new-password",clearable:""},null,8,["modelValue"])]),_:1}),o("div",T,[a(m,{round:"",block:"",type:"primary","native-type":"submit",loading:n.value},{default:l(()=>[...e[2]||(e[2]=[c(" 注册 ",-1)])]),_:1},8,["loading"]),a(m,{round:"",block:"",type:"default",class:"login-button",to:{path:"/login"}},{default:l(()=>[...e[3]||(e[3]=[c(" 返回登录 ",-1)])]),_:1})])]),_:1})])}}}),R=S(U,[["__scopeId","data-v-a376acc7"]]);export{R as default};
