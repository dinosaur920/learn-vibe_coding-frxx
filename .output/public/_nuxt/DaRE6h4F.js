import{s as y,a as V,b as w}from"./BhCvO39B.js";import{c as x,b as u}from"./BskD4ZCU.js";import"./DSmQk4JK.js";import{d as k,r as d,x as B,z as s,B as a,C as l,J as C,y as N,D as c,_ as S}from"./C57q5Bld.js";import{u as $}from"./Ao_tioNJ.js";const h={class:"page"},T={class:"actions"},U=k({__name:"login",setup(z){const t=d(""),o=d(""),n=d(!1),_=C(),f=$(),v=async()=>{if(!t.value||!o.value){u("请输入账号和密码");return}n.value=!0;try{await f.login({username:t.value,password:o.value}),u("登录成功"),_.push("/")}catch(p){const e=p?.message||"登录失败，请稍后重试";u(e)}finally{n.value=!1}};return(p,e)=>{const i=w,b=V,m=x,g=y;return N(),B("div",h,[e[4]||(e[4]=s("div",{class:"header"},[s("h1",{class:"title"},"凡人修仙传·掌上仙途"),s("p",{class:"subtitle"},"登录后踏上修仙之路")],-1)),a(g,{onSubmit:v},{default:l(()=>[a(b,{inset:""},{default:l(()=>[a(i,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=r=>t.value=r),name:"username",label:"账号",placeholder:"请输入账号",autocomplete:"username",clearable:""},null,8,["modelValue"]),a(i,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=r=>o.value=r),name:"password",label:"密码",type:"password",placeholder:"请输入密码",autocomplete:"current-password",clearable:""},null,8,["modelValue"])]),_:1}),s("div",T,[a(m,{round:"",block:"",type:"primary","native-type":"submit",loading:n.value},{default:l(()=>[...e[2]||(e[2]=[c(" 登录 ",-1)])]),_:1},8,["loading"]),a(m,{round:"",block:"",type:"default",class:"register-button",to:{path:"/register"}},{default:l(()=>[...e[3]||(e[3]=[c(" 去注册 ",-1)])]),_:1})])]),_:1})])}}}),R=S(U,[["__scopeId","data-v-7fa6176b"]]);export{R as default};
